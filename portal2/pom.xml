<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2007-2013 The Europeana Foundation Licenced under the EUPL, 
	Version 1.1 (the "Licence") and subsequent versions as approved by the European 
	Commission; You may not use this work except in compliance with the Licence. 
	You may obtain a copy of the Licence at: http://joinup.ec.europa.eu/software/page/eupl 
	Unless required by applicable law or agreed to in writing, software distributed 
	under the Licence is distributed on an "AS IS" basis, without warranties 
	or conditions of any kind, either express or implied. See the Licence for 
	the specific language governing permissions and limitations under the Licence. -->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<artifactId>portal2</artifactId>
	<packaging>war</packaging>
	<name>portal2</name>
	<description>The new portal engine for Europeana</description>
	<inceptionYear>2012</inceptionYear>
	<url>http://www.europeana.eu</url>

	<parent>
		<artifactId>portal</artifactId>
		<groupId>eu.europeana</groupId>
		<version>2.2.0-SNAPSHOT</version>
		<relativePath>../pom.xml</relativePath>
	</parent>

	<organization>
		<url>http://www.europeanalabs.eu</url>
		<name>Europeana Foundation</name>
	</organization>

	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
		<version.europeanaCorelib>2.2-SNAPSHOT</version.europeanaCorelib>

		<europeana.server>http://www.europeana.eu/portal/</europeana.server>
	</properties>

	<scm>
		<connection>scm:git:git@github.com:europeana/portal.git</connection>
		<developerConnection>scm:git:git@github.com:europeana/portal.git</developerConnection>
		<tag>HEAD</tag>
		<url>https://github.com/europeana/portal</url>
	</scm>

	<!-- Added for jetty -->
	<build>
		<finalName>portal</finalName>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-surefire-plugin</artifactId>
				<configuration>
					<argLine>
						-DEUROPEANA_PROPERTIES=../../corelib/corelib-definitions/src/main/resources/test-config/europeana-test.properties
					</argLine>
				</configuration>
			</plugin>

			<plugin>
				<artifactId>maven-resources-plugin</artifactId>
				<version>2.7</version>
				<executions>
					<execution>
						<id>copy-resources</id>
						<phase>validate</phase>
						<goals>
							<goal>copy-resources</goal>
						</goals>
						<configuration>
							<outputDirectory>${basedir}/src/main/resources</outputDirectory>
							<resources>
								<resource>
									<directory>${europeana.properties}</directory>
									<filtering>true</filtering>
								</resource>
								<resource>
									<directory>${project.parent.basedir}/portal_messages</directory>
									<filtering>true</filtering>
								</resource>
							</resources>
						</configuration>
					</execution>
				</executions>
			</plugin>

			<!-- <plugin> -->
			<!-- <groupId>org.codehaus.mojo</groupId> -->
			<!-- <artifactId>exec-maven-plugin</artifactId> -->
			<!-- <version>1.2</version> -->
			<!-- <executions> -->
			<!-- <execution> -->
			<!-- <goals> -->
			<!-- <goal>java</goal> -->
			<!-- </goals> -->
			<!-- </execution> -->
			<!-- </executions> -->
			<!-- <configuration> -->
			<!-- <mainClass>eu.europeana.Portal2Starter</mainClass> -->
			<!-- <classpathScope>test</classpathScope> -->
			<!-- </configuration> -->
			<!-- </plugin> -->
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>exec-maven-plugin</artifactId>
				<version>1.2</version>
				<executions>

					<!-- SASSIFY -->
					<execution>
						<id>sassify</id>
						<phase>process-classes</phase>
						<goals>
							<goal>java</goal>
						</goals>
						<configuration>
							<mainClass>eu.europeana.portal2.web.presentation.ThemeSassCompiler</mainClass>
							<arguments>
								<argument>${europeana.server}</argument>
							</arguments>
						</configuration>
					</execution>


					<!-- PULL LATEST STATIC RESOURCES -->
					<execution>
						<id>portal-static</id>
						<phase>compile</phase>
						<goals>
							<goal>exec</goal>
						</goals>
						<configuration>
							<executable>src/main/resources/bundle</executable>
						</configuration>
					</execution>

				</executions>
			</plugin>
			
			
			
			
			
			
			
			
			<!-- start pom merge -->
			
			<plugin><!-- START MINIFY-MAVEN-PLUGIN -->
				<groupId>com.samaxes.maven</groupId>
				<artifactId>minify-maven-plugin</artifactId>
				<version>1.5.2</version>

				<executions>
					<!-- @see WEB-INF/jsp/default/_common/html/css/debug-css.jsp -->
					<!-- @see WEB-INF/jsp/default/_common/html/css/production-css.jsp -->
					<!-- COMBINED CSS FILES -->
					<execution>
						<id>minify-common.css</id>
						<!-- 
						<phase>process-resources</phase>
						 -->
						<phase>prepare-package</phase>
						
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>common.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>html.css</cssSourceInclude>
								<cssSourceInclude>common.css</cssSourceInclude>
								<cssSourceInclude>ajax.css</cssSourceInclude>
								<cssSourceInclude>header.css</cssSourceInclude>
								<cssSourceInclude>menu-main.css</cssSourceInclude>
								<cssSourceInclude>responsive-grid.css</cssSourceInclude>
								<cssSourceInclude>eu-menu.css</cssSourceInclude>
								<cssSourceInclude>ellipsis.css</cssSourceInclude>
								<cssSourceInclude>europeana-font-icons.css</cssSourceInclude>
								<cssSourceInclude>europeana-font-face.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<!-- hierarchy.css -->

					<execution>
						<id>minify-hierarchy.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana/EuHierarchy</webappTargetDir>
							<cssSourceDir>/themes/default/js/eu/europeana/EuHierarchy</cssSourceDir>
							<cssFinalFile>hierarchy.css</cssFinalFile>
							<cssTargetDir>css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>style.css</cssSourceInclude>
								<cssSourceInclude>style-overrides.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>
					
					<!-- widget.css (as common.css but with absolute font-icon paths + search.css) -->

					<execution>
						<id>minify-search-widget.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>search-widget-all.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>html-sw.css</cssSourceInclude>
								<cssSourceInclude>common-sw.css</cssSourceInclude>
								<cssSourceInclude>header-sw.css</cssSourceInclude>
								<cssSourceInclude>menu-main.css</cssSourceInclude>
								<cssSourceInclude>responsive-grid-sw.css</cssSourceInclude>
								<cssSourceInclude>eu-menu.css</cssSourceInclude>
								<cssSourceInclude>ellipsis.css</cssSourceInclude>
								<cssSourceInclude>europeana-font-icons-widget.css</cssSourceInclude>
								<cssSourceInclude>europeana-font-face.css</cssSourceInclude>
								<cssSourceInclude>search-sw.css</cssSourceInclude>
								<cssSourceInclude>search-pagination-sw.css</cssSourceInclude>
								<cssSourceInclude>sidebar-facets-sw.css</cssSourceInclude>
								<cssSourceInclude>styling-sw.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>


					<!-- separate file for newsletter -->
					<execution>
						<id>minify-newsletter.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>newsletter.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>newsletter.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-europeana-font-face.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>europeana-font-face.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>europeana-font-face.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-fulldoc.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>fulldoc.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>fulldoc.css</cssSourceInclude>
								<cssSourceInclude>lightbox.css</cssSourceInclude>
								<cssSourceInclude>eu-accordion-tabs.css</cssSourceInclude>
								<cssSourceInclude>fulldoc-ess.css</cssSourceInclude>
								<cssSourceInclude>fulldoc-explore-further.css</cssSourceInclude>
								<cssSourceInclude>eu-carousel.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-myeuropeana.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>myeuropeana.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>myeuropeana.css</cssSourceInclude>
								<cssSourceInclude>eu-accordion-tabs.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-search.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>search.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>search.css</cssSourceInclude>
								<cssSourceInclude>search-pagination.css</cssSourceInclude>
								<cssSourceInclude>sidebar-facets.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>
					<!-- END COMBINED CSS FILES -->

					<!-- INDIVIDUAL CSS FILES -->
					<execution>
						<id>minify-announce.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>announce.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>announce.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-contact.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>contact.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>contact.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-embed.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>embed.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>embed.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-galleria.europeanax.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/galleria/themes/europeanax</webappTargetDir>
							<cssSourceDir>/themes/default/js/galleria/themes/europeanax</cssSourceDir>
							<cssFinalFile>galleria.europeanax.css</cssFinalFile>
							<cssTargetDir>css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>galleria.europeanax.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ie.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>ie.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>ie.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ie7.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>ie7.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>ie7.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ie8.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>ie8.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>ie8.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ie9.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>ie9.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>ie9.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-index.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>index.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>index.css</cssSourceInclude>
								<cssSourceInclude>eu-carousel.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-login.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>login.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>login.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-myeuropeana-index.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>myeuropeana-index.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>myeuropeana-index.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-noscript.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>noscript.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>noscript.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-providers.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>providers.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>providers.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-register.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>register.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>register.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-api-console.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>api-console.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>api-console.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-api-console-embedded.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>api-console-embedded.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>api-console-embedded.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-search-embed.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>search-embed.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>search-embed.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-staticpages.css</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/css</webappTargetDir>
							<cssSourceDir>/themes/default/css</cssSourceDir>
							<cssFinalFile>staticpages.css</cssFinalFile>
							<cssTargetDir>../css-min</cssTargetDir>
							<cssSourceIncludes>
								<cssSourceInclude>staticpages.css</cssSourceInclude>
							</cssSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>
					<!-- END INDIVIDUAL CSS FILES -->

					<!-- @see WEB-INF/jsp/default/_common/html/css/debug-css.jsp -->
					<!-- @see WEB-INF/jsp/default/_common/html/css/production-css.jsp -->
					<!-- INDIVIDUAL JS FILES -->
					<execution>
						<id>minify-accordion-tabs.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuAccordionTabs.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuAccordionTabs.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-admin.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>admin.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>admin.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-addthis.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/com/addthis</webappTargetDir>
							<jsSourceDir>/themes/default/js/com/addthis</jsSourceDir>
							<jsFinalFile>addthis.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>addthis.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ajax.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>ajax.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>ajax.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-analytics.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/com/google/analytics</webappTargetDir>
							<jsSourceDir>/themes/default/js/com/google/analytics</jsSourceDir>
							<jsFinalFile>analytics.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>analytics.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-api-console.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>api-console.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>api-console.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-bootstrap.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana/bootstrap</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana/bootstrap</jsSourceDir>
							<jsFinalFile>bootstrap.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>bootstrap.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-citation.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>citation.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>citation.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-collapsible.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>collapsible.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>collapsible.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-collapsible-widget.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>collapsible_widget.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>collapsible_widget.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-contact.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>contact.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>contact.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ellipsis.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>ellipsis.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>ellipsis.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-touchwipe.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/jquery</webappTargetDir>
							<jsSourceDir>/themes/default/js/jquery</jsSourceDir>
							<jsFinalFile>jquery.touchwipe.1.1.1.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>jquery.touchwipe.1.1.1.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-eucarousel.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuCarousel.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuCarousel.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

<!--
					<execution>
						<id>minify-emma.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/com/e2ma/</webappTargetDir>
							<jsSourceDir>/themes/default/js/com/e2ma</jsSourceDir>
							<jsFinalFile>emma.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>emma.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>
 -->

					<execution>
						<id>minify-embed.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>embed.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>embed.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-eu-pagination.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuPagination.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuPagination.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-EuAccessibility.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuAccessibility.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuAccessibility.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-EuHierarchy.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana/EuHierarchy</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana/EuHierarchy</jsSourceDir>
							<jsFinalFile>EuHierarchy.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuHierarchy.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-EuHierarchy2.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana/EuHierarchy</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana/EuHierarchy</jsSourceDir>
							<jsFinalFile>EuHierarchy2.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuHierarchy2.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-EuMenu.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuMenu.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuMenu.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-euresponsive.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>euresponsive.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>euresponsive.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-external-search-services.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>external-search-services.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>external-search-services.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-forgot-password.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>forgot-password.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>forgot-password.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-fulldoc.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>fulldoc.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>fulldoc.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-fulldoc-embed.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>fulldoc-embed.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>fulldoc-embed.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-lightbox.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>lightbox.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>lightbox.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-galleria.europeanax.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/galleria/themes/europeanax</webappTargetDir>
							<jsSourceDir>/themes/default/js/galleria/themes/europeanax</jsSourceDir>
							<jsFinalFile>galleria.europeanax.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>galleria.europeanax.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-header.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>header.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>header.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-image-checker.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>image-checker.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>image-checker.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-index.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>index.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>index.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-ios-orientationchange-fix.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/scottjehl-iOS-Orientationchange-Fix-99c9c99</webappTargetDir>
							<jsSourceDir>/themes/default/js/scottjehl-iOS-Orientationchange-Fix-99c9c99</jsSourceDir>
							<jsFinalFile>ios-orientationchange-fix.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>ios-orientationchange-fix.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-jquery.cookie.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/common/js/com/github/carhartl</webappTargetDir>
							<jsSourceDir>/themes/common/js/com/github/carhartl</jsSourceDir>
							<jsFinalFile>jquery.cookie.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>jquery.cookie.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-js.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/js</webappTargetDir>
							<jsSourceDir>/themes/default/js/js</jsSourceDir>
							<jsFinalFile>js.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>js.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-jstree.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana/EuHierarchy</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana/EuHierarchy</jsSourceDir>
							<jsFinalFile>jstree.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>jstree.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-loader.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/js</webappTargetDir>
							<jsSourceDir>/themes/default/js/js</jsSourceDir>
							<jsFinalFile>loader.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>loader.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-login.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>login.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>login.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-map.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>map.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>map.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-multilang.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>multilang.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>multilang.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-myeuropeana.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>myeuropeana.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>myeuropeana.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-myeuropeana-index.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>myeuropeana-index.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>myeuropeana-index.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-providers.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>providers.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>providers.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-register-success.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>register-success.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>register-success.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-search.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>search.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>search.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-search-widget.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuSearchWidget.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuSearchWidget.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-timer.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>timer.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>timer.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-translation-services.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>translation-services.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>translation-services.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-translator-google.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/com/google/translator</webappTargetDir>
							<jsSourceDir>/themes/default/js/com/google/translator</jsSourceDir>
							<jsFinalFile>translator.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>translator.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-translator-microsoft.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/com/microsoft</webappTargetDir>
							<jsSourceDir>/themes/default/js/com/microsoft</jsSourceDir>
							<jsFinalFile>translator.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>translator.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-translator-widget.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/com/microsoft</webappTargetDir>
							<jsSourceDir>/themes/default/js/com/microsoft</jsSourceDir>
							<jsFinalFile>translator-widget.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>translator-widget.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-utils.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>utils.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>utils.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-widget-wizard.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/eu/europeana</webappTargetDir>
							<jsSourceDir>/themes/default/js/eu/europeana</jsSourceDir>
							<jsFinalFile>EuWidgetWizard.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>EuWidgetWizard.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>

					<execution>
						<id>minify-window-open.js</id>
						<phase>prepare-package</phase>
						<configuration>
							<webappTargetDir>${basedir}/src/main/webapp/themes/default/js/js</webappTargetDir>
							<jsSourceDir>/themes/default/js/js</jsSourceDir>
							<jsFinalFile>window-open.js</jsFinalFile>
							<jsTargetDir>min</jsTargetDir>
							<jsSourceIncludes>
								<jsSourceInclude>window-open.js</jsSourceInclude>
							</jsSourceIncludes>
						</configuration>
						<goals>
							<goal>minify</goal>
						</goals>
					</execution>
					<!-- END INIDVIDUAL JS FILES -->
				</executions>
			</plugin>
			<!-- END MINIFY-MAVEN-PLUGIN -->

			<plugin>
              <artifactId>maven-resources-plugin</artifactId>
              <version>2.3</version>
              <executions>

					<execution>
						<id>minify-hierarchy-images</id>
						<phase>prepare-package</phase>
						<configuration>
						
							<outputDirectory>${basedir}/src/main/webapp/themes/default/js/eu/europeana/EuHierarchy/css-min</outputDirectory>
							<resources>
								<resource>
									<directory>${basedir}/src/main/webapp/themes/default/js/eu/europeana/EuHierarchy</directory>
									<filtering>true</filtering>
									<includes>
										<include>**/*.png</include>
										<include>**/*.gif</include>
									</includes>
									<excludes>
										<exclude>**/*.css</exclude>
										<exclude>**/*.js</exclude>
									</excludes>
								</resource>
							</resources>
						</configuration>
						
						<goals>
			                <goal>copy-resources</goal>
						</goals>
					</execution>


              </executions>
          </plugin>


			<plugin>
				<artifactId>maven-antrun-plugin</artifactId>
				<executions>
					<execution>
						<phase>compile</phase>
						<goals>
							<goal>run</goal>
						</goals>
						<configuration>
							<tasks>
								<echo>This pom will create minified assets in ${basedir}/src/main/webapp/themes/default/css/min/</echo>
								<echo>and min directories within the sub-directories of ${basedir}/src/main/webapp/themes/default/js/</echo>
							</tasks>
						</configuration>
					</execution>
				</executions>
			</plugin>
			
			
			<!-- end pom merge -->
			
			
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>buildnumber-maven-plugin</artifactId>
				<version>1.3</version>
				<configuration>
					<shortRevisionLength>10</shortRevisionLength>
					<timestampFormat>{0,date,yyyy-MM-dd HH:mm:ss}</timestampFormat>
					<revisionOnScmFailure>-na-</revisionOnScmFailure>
				</configuration>
				<executions>
					<execution>
						<phase>validate</phase>
						<goals>
							<goal>create</goal>
						</goals>
					</execution>
				</executions>
			</plugin>

			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-war-plugin</artifactId>
				<configuration>
					<webResources>
						<resource>
							<directory>src/main/resources</directory>
							<filtering>true</filtering>
							<includes>
								<include>**/build.txt</include>
							</includes>
						</resource>
					</webResources>
				</configuration>
			</plugin>

			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>cobertura-maven-plugin</artifactId>
				<version>2.6</version>
				<configuration>
					<formats>
						<format>html</format>
						<format>xml</format>
					</formats>
				</configuration>
			</plugin>
		</plugins>
	</build>

	<dependencies>
		<dependency>
			<!-- will also include SOLR, DEF, UTILS -->
			<groupId>eu.europeana.corelib</groupId>
			<artifactId>corelib-db</artifactId>
			<version>2.2-SNAPSHOT</version>
		</dependency>
		<dependency>
			<!-- will also include SOLR, DEF, UTILS -->
			<groupId>eu.europeana.corelib</groupId>
			<artifactId>corelib-search</artifactId>
			<version>2.2-SNAPSHOT</version>
			<exclusions>
				<exclusion>
					<artifactId>commons-codec</artifactId>
					<groupId>commons-codec</groupId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>eu.europeana.corelib</groupId>
			<artifactId>corelib-web</artifactId>
			<version>2.2-SNAPSHOT</version>
			<exclusions>
				<exclusion>
					<artifactId>commons-codec</artifactId>
					<groupId>commons-codec</groupId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>redis.clients</groupId>
			<artifactId>jedis</artifactId>
			<version>2.6.1</version>
		</dependency>

        <dependency>
            <groupId>eu.europeana.corelib</groupId>
            <artifactId>corelib-storage</artifactId>
            <version>${version.europeanaCorelib}</version>
        </dependency>

		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-webmvc</artifactId>
			<version>${version.springCore}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-oxm</artifactId>
			<version>${version.springCore}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework.security.oauth</groupId>
			<artifactId>spring-security-oauth2</artifactId>
			<version>${version.springSecurityOauth}</version>
			<exclusions>
				<exclusion>
					<artifactId>commons-codec</artifactId>
					<groupId>commons-codec</groupId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>org.springframework.security</groupId>
			<artifactId>spring-security-core</artifactId>
			<version>${version.springSecurity}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework.security</groupId>
			<artifactId>spring-security-config</artifactId>
			<version>${version.springSecurity}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework.security</groupId>
			<artifactId>spring-security-web</artifactId>
			<version>${version.springSecurity}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework.security</groupId>
			<artifactId>spring-security-taglibs</artifactId>
			<version>${version.springSecurity}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-test</artifactId>
			<version>${version.springCore}</version>
		</dependency>

		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-aop</artifactId>
			<version>${version.springCore}</version>
		</dependency>

		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>4.10</version>
			<scope>test</scope>
		</dependency>

		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>jstl</artifactId>
			<version>1.2</version>
		</dependency>

		<dependency>
			<groupId>taglibs</groupId>
			<artifactId>standard</artifactId>
			<version>1.1.2</version>
		</dependency>

		<dependency>
			<groupId>com.googlecode.htmlcompressor</groupId>
			<artifactId>htmlcompressor</artifactId>
			<version>1.4</version>
		</dependency>

		<dependency>
			<groupId>com.google.javascript</groupId>
			<artifactId>closure-compiler</artifactId>
			<version>r1043</version>
		</dependency>

		<dependency>
			<groupId>com.yahoo.platform.yui</groupId>
			<artifactId>yuicompressor</artifactId>
			<version>2.4.6</version>
		</dependency>

		<!-- Added for sass -->

		<dependency>
			<groupId>com.darrinholst</groupId>
			<artifactId>sass-java</artifactId>
			<version>3.4.4.2</version>
		</dependency>

		<!-- <dependency> <groupId>org.jruby</groupId> <artifactId>jruby-complete</artifactId> 
			<version>1.7.3</version> </dependency> <dependency> <groupId>org.compass-style</groupId> 
			<artifactId>compass-gems</artifactId> <version>0.12.2</version> </dependency> -->

		<dependency>
			<groupId>org.mortbay.jetty</groupId>
			<artifactId>jsp-2.1-glassfish</artifactId>
			<version>2.1.v20100127</version>
			<scope>test</scope>
		</dependency>

		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>servlet-api</artifactId>
			<version>2.5</version>
			<scope>provided</scope>
		</dependency>

		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>jsp-api</artifactId>
			<version>2.0</version>
			<scope>provided</scope>
		</dependency>

		<dependency>
			<groupId>commons-httpclient</groupId>
			<artifactId>commons-httpclient</artifactId>
			<version>3.1</version>

			<exclusions>
				<exclusion>
					<artifactId>commons-codec</artifactId>
					<groupId>commons-codec</groupId>
				</exclusion>
			</exclusions>
		</dependency>

		<!-- Added logging for jetty in Portal2Starter -->

		<dependency>
			<groupId>org.codehaus.jackson</groupId>
			<artifactId>jackson-xc</artifactId>
			<version>${version.codehausJackson}</version>
		</dependency>

		<dependency>
			<groupId>hsqldb</groupId>
			<artifactId>hsqldb</artifactId>
			<version>1.8.0.7</version>
		</dependency>
		<!-- <dependency> -->
		<!-- <groupId>javax.validation</groupId> -->
		<!-- <artifactId>validation-api</artifactId> -->
		<!-- <version>1.1.0.Final</version> -->
		<!-- </dependency> -->
		<dependency>
			<groupId>org.hibernate</groupId>
			<artifactId>hibernate-validator</artifactId>
			<version>4.3.0.Final</version>
		</dependency>

		<!-- gson needs for JSON formatting -->
		<dependency>
			<groupId>com.google.code.gson</groupId>
			<artifactId>gson</artifactId>
			<version>2.2.2</version>
		</dependency>

		<dependency>
			<groupId>org.apache.commons</groupId>
			<artifactId>commons-math3</artifactId>
			<version>3.1.1</version>
		</dependency>

		<dependency>
			<groupId>org.apache.poi</groupId>
			<artifactId>poi</artifactId>
			<version>3.9</version>

			<exclusions>
				<exclusion>
					<artifactId>commons-codec</artifactId>
					<groupId>commons-codec</groupId>
				</exclusion>
			</exclusions>
		</dependency>

		<!-- Bing code for translation tokens -->
		<dependency>
			<groupId>com.memetix</groupId>
			<artifactId>microsoft-translator-java-api</artifactId>
			<version>0.6.1</version>
			<type>jar</type>
		</dependency>

		<!-- <dependency> -->
		<!-- <groupId>org.javaswift</groupId> -->
		<!-- <artifactId>joss</artifactId> -->
		<!-- <version>0.9.7</version> -->
		<!-- </dependency> -->

		<dependency>
			<artifactId>commons-codec</artifactId>
			<groupId>commons-codec</groupId>
			<version>1.9</version>
		</dependency>

	</dependencies>
	<profiles>
		<profile>
			<id>
				production
            </id>
			<properties>
				<europeana.properties>${project.parent.basedir}/properties/production</europeana.properties>
				<europeana.server>http://europeana.eu/portal</europeana.server>
			</properties>
		</profile>
		<profile>
			<id>
                alpha
            </id>
			<properties>
				<europeana.properties>${project.parent.basedir}/properties/test</europeana.properties>
				<europeana.server>http://alpha-web.de.a9sapp.eu/portal</europeana.server>
			</properties>
		</profile>
		<profile>
			<id>
                beta
            </id>
			<properties>
				<europeana.properties>${project.parent.basedir}/properties/beta</europeana.properties>
				<europeana.server>http://beta-web.de.a9sapp.eu/portal</europeana.server>
			</properties>
		</profile>
		<profile>
			<id>
                blue
            </id>
			<properties>
				<europeana.properties>${project.parent.basedir}/properties/test</europeana.properties>
				<europeana.server>http://blue-web.de.a9sapp.eu/portal</europeana.server>
			</properties>
		</profile>
		<profile>
			<id>
                green
            </id>
			<properties>
				<europeana.properties>${project.parent.basedir}/properties/test</europeana.properties>
				<europeana.server>http://green-web.de.a9sapp.eu/portal</europeana.server>
			</properties>
		</profile>
		<profile>
			<id>
                personal
            </id>
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<properties>
				<europeana.properties>${project.parent.basedir}/properties/personal</europeana.properties>
				<europeana.server>http://localhost:8080/portal/</europeana.server>
			</properties>
		</profile>
	</profiles>
	<repositories>
		<repository>
			<id>org.springframework.security</id>
			<name>Spring Security</name>
			<url>http://maven.springframework.org/snapshot</url>
		</repository>

		<repository>
			<id>sass-java</id>
			<url>http://sass-java.googlecode.com/svn/repo/</url>
		</repository>

	</repositories>
</project>

